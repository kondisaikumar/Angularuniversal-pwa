<div class="row">
  <div class="col-md-12">
   
    <!-- <h4>Add New Payment Method</h4> -->
    <form [formGroup]=formAddNewPayment (ngSubmit)="onSaveCard()">
      <div class="popup">
      <div class="row">       
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">                        
              <div class="form-group form-group-payment">
                <label class="addpayment-label">Card Number <span>*</span></label> 
                <div class="addpayment-input-div">                              
                  <input type="text" formControlName="sixteenDigitNumber" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" (keyup)="showCardType(formAddNewPayment.controls['sixteenDigitNumber'].valid)"
                    class="form-control" placeholder="" (keypress)="numericOnly($event)">
                  <div *ngIf="submitted && f.sixteenDigitNumber.errors" class="alert alert-danger">
                    <div *ngIf="f.sixteenDigitNumber.errors.required">Card Number is required.</div>
                    <div *ngIf="f.sixteenDigitNumber.errors.maxlength">Card Number should not be more than 16 digits</div>
                    <div *ngIf="f.sixteenDigitNumber.errors.minlength">Invalid Card Number</div>
                  </div>
                </div>                               
              </div>        

         <div class="form-group form-group-payment">
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
              <div class="form-group form-group-payment">
                <label class="addpayment-label">Expiry Date <span>*</span></label>
                 <div class="addpayment-input-div addpayment-input-monthyear">
                  <div class="row">
                    <div class="col-xs-6 month-input">
                      <select class="selectsize form-control classic" formControlName="expiryMonth">
                        <option value="" disabled selected>Month</option>
                        <option *ngFor="let month of months">{{month}}</option>
                      </select>
                      <div *ngIf="submitted && f.expiryMonth.errors" class="alert alert-danger">
                        <div *ngIf="f.expiryMonth.errors.required">Expiry Month is required.</div>
                      </div>
                    </div>
                    <div class="col-xs-6 year-input">
                      <select class="selectsize form-control classic" formControlName="expiryYear">
                        <option value="" disabled selected>Year</option>
                        <option *ngFor="let year of years">{{year}}</option>
                      </select>
                      <div *ngIf="submitted && f.expiryYear.errors" class="alert alert-danger">
                        <div *ngIf="f.expiryYear.errors.required">Expiry Year is required.</div>
                      </div>
                    </div>
                  </div>     
                </div>
              </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
              <div class="form-group form-group-payment">
                <label class="addpayment-label">CVV <span>*</span></label>
                  <input type="text" formControlName="cardCode"class="form-control cvc-input" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" maxlength="4">                              
                  <div *ngIf="submitted && f.cardCode.errors" class="alert alert-danger">
                    <div *ngIf="f.cardCode.errors.required">CVV is required.</div>
                  </div>
                </div>
            </div>
           </div>
          </div>
        </div>

        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <h4 class="billing-address-heading">Billing Address</h4>
              <div class="form-group form-group-payment">
                <label class="addpayment-label">First Name</label>
                <div class="addpayment-input-div">
                  <input type="text" formControlName="firstName" class="form-control" placeholder="">
                  <div *ngIf="submitted && f.firstName.errors" class="alert alert-danger">
                    <div *ngIf="f.firstName.errors.required">First Name is required.</div>
                    <div *ngIf="f.firstName.errors.minlength">First Name should be at least 2 characters</div>
                  </div> 
                </div>                             
              </div>


              <div class="form-group form-group-payment">
                <label class="addpayment-label">Last Name </label>
                <div class="addpayment-input-div">
                  <input type="text" formControlName="lastName" class="form-control" placeholder="">
                  <div *ngIf="submitted && f.lastName.errors" class="alert alert-danger">
                    <div *ngIf="f.lastName.errors.required">Last Name is required.</div>
                    <div *ngIf="f.lastName.errors.minlength">Last Name should be at least 2 characters</div>
                  </div> 
                </div>                            
              </div>
                      
           
              <div class="form-group form-group-payment">
                <label class="addpayment-label">Address</label>
                <div class="addpayment-input-div">
                  <input type="text" formControlName="address" class="form-control" placeholder="" class="form-control" placeholder="" autocorrect="off"
                    autocapitalize="off" spellcheck="off" #search>
                  <div *ngIf="submitted && f.address.errors" class="alert alert-danger">
                    <div *ngIf="f.address.errors.required">Address is required.</div>
                  </div>  
                </div>                            
              </div>
           

              <div class="form-group form-group-payment">
                <label class="addpayment-label">City</label>
                <div class="addpayment-input-div">
                  <input type="text" formControlName="city" class="form-control" placeholder="">
                  <div *ngIf="submitted && f.city.errors" class="alert alert-danger">
                    <div *ngIf="f.city.errors.required">City is required.</div>
                  </div>    
                </div>                          
              </div>
        
              <div class="form-group form-group-payment">
                <label class="addpayment-label country">State</label>
                <div class="addpayment-input-div">
                  <select formControlName="state" class="form-control">
                    <option value="" disabled selected>Select State</option>
                    <option [value]="statelist.StateCode"*ngFor="let statelist of stateList">{{statelist.StateName}}</option>
                  </select>
                  <!-- <input type="text" formControlName="state" class="form-control" placeholder=""> -->
                  <div *ngIf="submitted && f.state.errors" class="alert alert-danger">
                    <div *ngIf="f.state.errors.required">State is required.</div>
                  </div> 
                </div>                             
              </div>
          
              <div class="form-group form-group-payment">
                <label class="addpayment-label">Zip Code</label>
                  <input type="text" formControlName="zipCode" class="form-control" placeholder="">
                  <div class="addpayment-input-div">
                  <div *ngIf="submitted && f.zipCode.errors" class="alert alert-danger">
                    <div *ngIf="f.zipCode.errors.required">Zip Code is required.</div>
                  </div>
                </div>
              </div>                 
          
              <div class="form-group form-group-payment">
                <label class="addpayment-label">Phone Number</label>
                  <input type="text" formControlName="phoneNumber" class="form-control" placeholder="">
                  <div class="addpayment-input-div">
                  <div *ngIf="submitted && f.phoneNumber.errors" class="alert alert-danger">
                    <div *ngIf="f.phoneNumber.errors.required">Phone Number is required.</div>
                  </div> 
                </div>                             
              </div>
        </div>
      </div>
    </div>
    <div class="text-center btn-add">
      <button type="submit" class="btn btn-default close-btn">Add</button>
    </div>
    </form>                  
  </div>
</div>